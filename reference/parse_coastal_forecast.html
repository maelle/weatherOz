<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Parse local BOM coastal waters forecast XML files — parse_coastal_forecast • weatherOz</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Parse local BOM coastal waters forecast XML files — parse_coastal_forecast"><meta property="og:description" content="Parse local BOM daily coastal waters forecast XML file(s)
and return a data frame for a specified state or territory or all Australia."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">weatherOz</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/weatherOz.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/use_case.html">weatherOz Use Case</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parse local BOM coastal waters forecast XML files</h1>
    
    <div class="hidden name"><code>parse_coastal_forecast.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Parse local <acronym>BOM</acronym> daily coastal waters forecast <acronym>XML</acronym> file(s)
and return a data frame for a specified state or territory or all Australia.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">parse_coastal_forecast</span><span class="op">(</span><span class="va">state</span>, <span class="va">filepath</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>state</dt>
<dd><p>Required value of an Australian state or territory as full name
or postal code.  Fuzzy string matching via <code><a href="https://rdrr.io/r/base/agrep.html" class="external-link">base::agrep()</a></code> is
done.</p></dd>


<dt>filepath</dt>
<dd><p>A string providing the directory location of the coastal
forecast file(s) to parse. See Details for more.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> of an Australia <acronym>BOM</acronym></p>


<p>Coastal Waters Forecast.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Allowed state and territory postal codes, only one state per request
or all using <code>AUS</code>.</p><dl><dt>ACT</dt>
<dd><p>Australian Capital Territory (will return NSW)</p></dd>

<dt>NSW</dt>
<dd><p>New South Wales</p></dd>

<dt>NT</dt>
<dd><p>Northern Territory</p></dd>

<dt>QLD</dt>
<dd><p>Queensland</p></dd>

<dt>SA</dt>
<dd><p>South Australia</p></dd>

<dt>TAS</dt>
<dd><p>Tasmania</p></dd>

<dt>VIC</dt>
<dd><p>Victoria</p></dd>

<dt>WA</dt>
<dd><p>Western Australia</p></dd>

<dt>AUS</dt>
<dd><p>Australia, returns forecast for all states, NT and ACT</p></dd>


</dl><p>The <var>filepath</var> argument will only accept a directory where files
are located for parsing. DO NOT supply the full path including the file name.
This function will only parse the requested state or all of Australia in the
same fashion as <code><a href="get_coastal_forecast.html">get_coastal_forecast()</a></code>, provided that the files
are all present in the directory.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Forecast data come from Australian Bureau of Meteorology (BOM) Weather Data
Services <br><a href="http://www.bom.gov.au/catalogue/data-feeds.shtml" class="external-link">http://www.bom.gov.au/catalogue/data-feeds.shtml</a></p>
<p>Location data and other metadata come from the <acronym>BOM</acronym> anonymous
<acronym>FTP</acronym> server with spatial data <br><a href="ftp://ftp.bom.gov.au/anon/home/adfd/spatial/">ftp://ftp.bom.gov.au/anon/home/adfd/spatial/</a>, specifically the
<acronym>DBF</acronym> file portion of a shapefile, <br><a href="ftp://ftp.bom.gov.au/anon/home/adfd/spatial/IDM00003.dbf">ftp://ftp.bom.gov.au/anon/home/adfd/spatial/IDM00003.dbf</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="get_coastal_forecast.html">get_coastal_forecast</a></p>
<p>Other bomrang-ported: 
<code><a href="find_forecast_towns.html">find_forecast_towns</a>()</code>,
<code><a href="get_ag_bulletin.html">get_ag_bulletin</a>()</code>,
<code><a href="get_available_imagery.html">get_available_imagery</a>()</code>,
<code><a href="get_available_radar.html">get_available_radar</a>()</code>,
<code><a href="get_coastal_forecast.html">get_coastal_forecast</a>()</code>,
<code><a href="get_precis_forecast.html">get_precis_forecast</a>()</code>,
<code><a href="get_satellite_imagery.html">get_satellite_imagery</a>()</code>,
<code><a href="parse_precis_forecast.html">parse_precis_forecast</a>()</code>,
<code><a href="update_forecast_towns.html">update_forecast_towns</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Dean Marchiori, <a href="mailto:deanmarchiori@gmail.com">deanmarchiori@gmail.com</a> and Paul Melloy
<a href="mailto:paul@melloy.com.au">paul@melloy.com.au</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># parse the coastal forecast for Queensland</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#download to tempfile() using basename() to keep original name</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"ftp://ftp.bom.gov.au/anon/gen/fwo/IDQ11290.xml"</span>,</span></span>
<span class="r-in"><span>              destfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="st">"ftp://ftp.bom.gov.au/anon/gen/fwo/IDQ11290.xml"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>              mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">coastal_forecast</span> <span class="op">&lt;-</span> <span class="fu">parse_coastal_forecast</span><span class="op">(</span>state <span class="op">=</span> <span class="st">"QLD"</span>,</span></span>
<span class="r-in"><span>                                           filepath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">coastal_forecast</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rodrigo Pires, Anna Hepworth, Rebecca O’Leary, Jonathan Carroll, James Goldie, Dean Marchiori, Paul Melloy, Mark Padgham, Hugh Parsonage, Keith Pembleton, Adam H. Sparks.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

